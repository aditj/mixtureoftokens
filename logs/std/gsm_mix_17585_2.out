[Fri Jun 13 01:33:36 AM UTC 2025] Starting task 2 with T_e=100, k=4 on GPU 6
Loading model and tokenizer...
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:01<00:00,  1.29it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:01<00:00,  1.22it/s]
Loading GSM8K dataset...
Embedding mixture gen:   0%|          | 0/20 [00:00<?, ?q/s]Embedding mixture gen:   5%|▌         | 1/20 [00:04<01:18,  4.11s/q]Embedding mixture gen:   5%|▌         | 1/20 [00:04<01:18,  4.11s/q, acc=1.000, corr=1/1, avg_tokens=234.0, p1_avg=100.0, p2_avg=128.0]Embedding mixture gen:  10%|█         | 2/20 [00:10<01:39,  5.50s/q, acc=1.000, corr=1/1, avg_tokens=234.0, p1_avg=100.0, p2_avg=128.0]Embedding mixture gen:  10%|█         | 2/20 [00:10<01:39,  5.50s/q, acc=0.500, corr=1/2, avg_tokens=329.0, p1_avg=100.0, p2_avg=223.0]Embedding mixture gen:  15%|█▌        | 3/20 [00:17<01:44,  6.12s/q, acc=0.500, corr=1/2, avg_tokens=329.0, p1_avg=100.0, p2_avg=223.0]Embedding mixture gen:  15%|█▌        | 3/20 [00:17<01:44,  6.12s/q, acc=0.667, corr=2/3, avg_tokens=369.3, p1_avg=100.0, p2_avg=263.3]Embedding mixture gen:  20%|██        | 4/20 [00:21<01:26,  5.42s/q, acc=0.667, corr=2/3, avg_tokens=369.3, p1_avg=100.0, p2_avg=263.3]Embedding mixture gen:  20%|██        | 4/20 [00:21<01:26,  5.42s/q, acc=0.750, corr=3/4, avg_tokens=348.2, p1_avg=100.0, p2_avg=242.2]Embedding mixture gen:  25%|██▌       | 5/20 [00:25<01:10,  4.73s/q, acc=0.750, corr=3/4, avg_tokens=348.2, p1_avg=100.0, p2_avg=242.2]Embedding mixture gen:  25%|██▌       | 5/20 [00:25<01:10,  4.73s/q, acc=0.800, corr=4/5, avg_tokens=324.2, p1_avg=100.0, p2_avg=218.2]Embedding mixture gen:  30%|███       | 6/20 [00:30<01:07,  4.80s/q, acc=0.800, corr=4/5, avg_tokens=324.2, p1_avg=100.0, p2_avg=218.2]Embedding mixture gen:  30%|███       | 6/20 [00:30<01:07,  4.80s/q, acc=0.833, corr=5/6, avg_tokens=324.2, p1_avg=100.0, p2_avg=218.2]Embedding mixture gen:  35%|███▌      | 7/20 [00:33<00:57,  4.39s/q, acc=0.833, corr=5/6, avg_tokens=324.2, p1_avg=100.0, p2_avg=218.2]Embedding mixture gen:  35%|███▌      | 7/20 [00:33<00:57,  4.39s/q, acc=0.857, corr=6/7, avg_tokens=310.9, p1_avg=100.0, p2_avg=204.9]Embedding mixture gen:  40%|████      | 8/20 [00:43<01:11,  5.93s/q, acc=0.857, corr=6/7, avg_tokens=310.9, p1_avg=100.0, p2_avg=204.9]Embedding mixture gen:  40%|████      | 8/20 [00:43<01:11,  5.93s/q, acc=0.750, corr=6/8, avg_tokens=347.8, p1_avg=100.0, p2_avg=241.8]Embedding mixture gen:  45%|████▌     | 9/20 [00:45<00:52,  4.78s/q, acc=0.750, corr=6/8, avg_tokens=347.8, p1_avg=100.0, p2_avg=241.8]Embedding mixture gen:  45%|████▌     | 9/20 [00:45<00:52,  4.78s/q, acc=0.778, corr=7/9, avg_tokens=325.4, p1_avg=100.0, p2_avg=219.4]Embedding mixture gen:  50%|█████     | 10/20 [00:54<01:01,  6.16s/q, acc=0.778, corr=7/9, avg_tokens=325.4, p1_avg=100.0, p2_avg=219.4]Embedding mixture gen:  50%|█████     | 10/20 [00:54<01:01,  6.16s/q, acc=0.800, corr=8/10, avg_tokens=353.5, p1_avg=100.0, p2_avg=247.5]Embedding mixture gen:  55%|█████▌    | 11/20 [01:00<00:55,  6.12s/q, acc=0.800, corr=8/10, avg_tokens=353.5, p1_avg=100.0, p2_avg=247.5]Embedding mixture gen:  55%|█████▌    | 11/20 [01:00<00:55,  6.12s/q, acc=0.727, corr=8/11, avg_tokens=357.3, p1_avg=100.0, p2_avg=251.3]Embedding mixture gen:  60%|██████    | 12/20 [01:07<00:52,  6.51s/q, acc=0.727, corr=8/11, avg_tokens=357.3, p1_avg=100.0, p2_avg=251.3]Embedding mixture gen:  60%|██████    | 12/20 [01:07<00:52,  6.51s/q, acc=0.750, corr=9/12, avg_tokens=368.2, p1_avg=100.0, p2_avg=262.2]Embedding mixture gen:  65%|██████▌   | 13/20 [01:17<00:51,  7.34s/q, acc=0.750, corr=9/12, avg_tokens=368.2, p1_avg=100.0, p2_avg=262.2]Embedding mixture gen:  65%|██████▌   | 13/20 [01:17<00:51,  7.34s/q, acc=0.692, corr=9/13, avg_tokens=386.5, p1_avg=100.0, p2_avg=280.5]Embedding mixture gen:  70%|███████   | 14/20 [01:25<00:45,  7.54s/q, acc=0.692, corr=9/13, avg_tokens=386.5, p1_avg=100.0, p2_avg=280.5]Embedding mixture gen:  70%|███████   | 14/20 [01:25<00:45,  7.54s/q, acc=0.714, corr=10/14, avg_tokens=396.6, p1_avg=100.0, p2_avg=290.6]Embedding mixture gen:  75%|███████▌  | 15/20 [01:34<00:40,  8.05s/q, acc=0.714, corr=10/14, avg_tokens=396.6, p1_avg=100.0, p2_avg=290.6]Embedding mixture gen:  75%|███████▌  | 15/20 [01:34<00:40,  8.05s/q, acc=0.667, corr=10/15, avg_tokens=410.5, p1_avg=100.0, p2_avg=304.5]Embedding mixture gen:  80%|████████  | 16/20 [01:42<00:31,  7.97s/q, acc=0.667, corr=10/15, avg_tokens=410.5, p1_avg=100.0, p2_avg=304.5]Embedding mixture gen:  80%|████████  | 16/20 [01:42<00:31,  7.97s/q, acc=0.688, corr=11/16, avg_tokens=416.9, p1_avg=100.0, p2_avg=310.9]Embedding mixture gen:  85%|████████▌ | 17/20 [01:50<00:24,  8.07s/q, acc=0.688, corr=11/16, avg_tokens=416.9, p1_avg=100.0, p2_avg=310.9]Embedding mixture gen:  85%|████████▌ | 17/20 [01:50<00:24,  8.07s/q, acc=0.647, corr=11/17, avg_tokens=424.5, p1_avg=100.0, p2_avg=318.5]Embedding mixture gen:  90%|█████████ | 18/20 [01:57<00:15,  7.64s/q, acc=0.647, corr=11/17, avg_tokens=424.5, p1_avg=100.0, p2_avg=318.5]Embedding mixture gen:  90%|█████████ | 18/20 [01:57<00:15,  7.64s/q, acc=0.667, corr=12/18, avg_tokens=425.3, p1_avg=100.0, p2_avg=319.3]Embedding mixture gen:  95%|█████████▌| 19/20 [02:04<00:07,  7.48s/q, acc=0.667, corr=12/18, avg_tokens=425.3, p1_avg=100.0, p2_avg=319.3]Embedding mixture gen:  95%|█████████▌| 19/20 [02:04<00:07,  7.48s/q, acc=0.684, corr=13/19, avg_tokens=427.8, p1_avg=100.0, p2_avg=321.8]Embedding mixture gen: 100%|██████████| 20/20 [02:13<00:00,  7.93s/q, acc=0.684, corr=13/19, avg_tokens=427.8, p1_avg=100.0, p2_avg=321.8]Embedding mixture gen: 100%|██████████| 20/20 [02:13<00:00,  7.93s/q, acc=0.700, corr=14/20, avg_tokens=436.0, p1_avg=100.0, p2_avg=330.0]Embedding mixture gen: 100%|██████████| 20/20 [02:13<00:00,  6.66s/q, acc=0.700, corr=14/20, avg_tokens=436.0, p1_avg=100.0, p2_avg=330.0]
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...


==================== Summary ====================
Embedding mixture gen: 14/20  (Pass@1 = 0.700)
T_e: 100, k: 4, T_total: 600, num_examples: 20, temperature: 0.6


==================== Token Length Analysis ====================

Embedding Mixture Generation:
  Total average tokens: 436.0
  Total median tokens: 461.0
  Total std deviation: 144.5
  Total min tokens: 147
  Total max tokens: 606

  Phase 1 (Embedding Mixture):
    Average tokens: 100.0
    Average rounds completed: 100.0 / 100 requested
    Min tokens: 100
    Max tokens: 100

  Phase 2 (Standard Generation):
    Average tokens: 330.0
    Min tokens: 41
    Max tokens: 500

  Transition tokens:
    Average tokens: 6.0

  Token Efficiency Comparison:
    Mixture approach uses 436.0 tokens on average


==================== Saving Data ====================
Detailed comparison data saved to 'generation_comparison/without_think_in_phase_2/600_20_0.6/generation_comparison_T_e_100_k_4.json'
Raw comparison data saved to 'generation_comparison/thinking_parallely/600_20_0.6/generation_comparison_T_e_100_k_4.pkl'
[Fri Jun 13 01:36:08 AM UTC 2025] Finished task 2
