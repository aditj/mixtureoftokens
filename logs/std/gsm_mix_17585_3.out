[Fri Jun 13 01:33:36 AM UTC 2025] Starting task 3 with T_e=100, k=8 on GPU 3
Loading model and tokenizer...
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:01<00:00,  1.29it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:01<00:00,  1.22it/s]
Loading GSM8K dataset...
Embedding mixture gen:   0%|          | 0/20 [00:00<?, ?q/s]Embedding mixture gen:   5%|▌         | 1/20 [00:09<02:53,  9.14s/q]Embedding mixture gen:   5%|▌         | 1/20 [00:09<02:53,  9.14s/q, acc=1.000, corr=1/1, avg_tokens=542.0, p1_avg=100.0, p2_avg=436.0]Embedding mixture gen:  10%|█         | 2/20 [00:17<02:32,  8.47s/q, acc=1.000, corr=1/1, avg_tokens=542.0, p1_avg=100.0, p2_avg=436.0]Embedding mixture gen:  10%|█         | 2/20 [00:17<02:32,  8.47s/q, acc=0.500, corr=1/2, avg_tokens=523.5, p1_avg=100.0, p2_avg=417.5]Embedding mixture gen:  15%|█▌        | 3/20 [00:20<01:45,  6.20s/q, acc=0.500, corr=1/2, avg_tokens=523.5, p1_avg=100.0, p2_avg=417.5]Embedding mixture gen:  15%|█▌        | 3/20 [00:20<01:45,  6.20s/q, acc=0.667, corr=2/3, avg_tokens=422.3, p1_avg=100.0, p2_avg=316.3]Embedding mixture gen:  20%|██        | 4/20 [00:24<01:27,  5.44s/q, acc=0.667, corr=2/3, avg_tokens=422.3, p1_avg=100.0, p2_avg=316.3]Embedding mixture gen:  20%|██        | 4/20 [00:24<01:27,  5.44s/q, acc=0.750, corr=3/4, avg_tokens=383.5, p1_avg=100.0, p2_avg=277.5]Embedding mixture gen:  25%|██▌       | 5/20 [00:29<01:14,  4.96s/q, acc=0.750, corr=3/4, avg_tokens=383.5, p1_avg=100.0, p2_avg=277.5]Embedding mixture gen:  25%|██▌       | 5/20 [00:29<01:14,  4.96s/q, acc=0.600, corr=3/5, avg_tokens=358.6, p1_avg=100.0, p2_avg=252.6]Embedding mixture gen:  30%|███       | 6/20 [00:36<01:20,  5.77s/q, acc=0.600, corr=3/5, avg_tokens=358.6, p1_avg=100.0, p2_avg=252.6]Embedding mixture gen:  30%|███       | 6/20 [00:36<01:20,  5.77s/q, acc=0.500, corr=3/6, avg_tokens=375.8, p1_avg=100.0, p2_avg=269.8]Embedding mixture gen:  35%|███▌      | 7/20 [00:41<01:12,  5.58s/q, acc=0.500, corr=3/6, avg_tokens=375.8, p1_avg=100.0, p2_avg=269.8]Embedding mixture gen:  35%|███▌      | 7/20 [00:41<01:12,  5.58s/q, acc=0.571, corr=4/7, avg_tokens=368.9, p1_avg=100.0, p2_avg=262.9]Embedding mixture gen:  40%|████      | 8/20 [00:46<01:04,  5.36s/q, acc=0.571, corr=4/7, avg_tokens=368.9, p1_avg=100.0, p2_avg=262.9]Embedding mixture gen:  40%|████      | 8/20 [00:46<01:04,  5.36s/q, acc=0.625, corr=5/8, avg_tokens=361.2, p1_avg=100.0, p2_avg=255.2]Embedding mixture gen:  45%|████▌     | 9/20 [00:49<00:51,  4.73s/q, acc=0.625, corr=5/8, avg_tokens=361.2, p1_avg=100.0, p2_avg=255.2]Embedding mixture gen:  45%|████▌     | 9/20 [00:49<00:51,  4.73s/q, acc=0.667, corr=6/9, avg_tokens=344.6, p1_avg=100.0, p2_avg=238.6]Embedding mixture gen:  50%|█████     | 10/20 [00:54<00:47,  4.72s/q, acc=0.667, corr=6/9, avg_tokens=344.6, p1_avg=100.0, p2_avg=238.6]Embedding mixture gen:  50%|█████     | 10/20 [00:54<00:47,  4.72s/q, acc=0.600, corr=6/10, avg_tokens=339.8, p1_avg=100.0, p2_avg=233.8]Embedding mixture gen:  55%|█████▌    | 11/20 [00:59<00:44,  4.96s/q, acc=0.600, corr=6/10, avg_tokens=339.8, p1_avg=100.0, p2_avg=233.8]Embedding mixture gen:  55%|█████▌    | 11/20 [00:59<00:44,  4.96s/q, acc=0.545, corr=6/11, avg_tokens=340.5, p1_avg=100.0, p2_avg=234.5]Embedding mixture gen:  60%|██████    | 12/20 [01:02<00:34,  4.30s/q, acc=0.545, corr=6/11, avg_tokens=340.5, p1_avg=100.0, p2_avg=234.5]Embedding mixture gen:  60%|██████    | 12/20 [01:02<00:34,  4.30s/q, acc=0.583, corr=7/12, avg_tokens=326.8, p1_avg=100.0, p2_avg=220.8]Embedding mixture gen:  65%|██████▌   | 13/20 [01:11<00:39,  5.61s/q, acc=0.583, corr=7/12, avg_tokens=326.8, p1_avg=100.0, p2_avg=220.8]Embedding mixture gen:  65%|██████▌   | 13/20 [01:11<00:39,  5.61s/q, acc=0.538, corr=7/13, avg_tokens=343.7, p1_avg=100.0, p2_avg=237.7]Embedding mixture gen:  70%|███████   | 14/20 [01:20<00:40,  6.81s/q, acc=0.538, corr=7/13, avg_tokens=343.7, p1_avg=100.0, p2_avg=237.7]Embedding mixture gen:  70%|███████   | 14/20 [01:20<00:40,  6.81s/q, acc=0.500, corr=7/14, avg_tokens=362.4, p1_avg=100.0, p2_avg=256.4]Embedding mixture gen:  75%|███████▌  | 15/20 [01:27<00:33,  6.68s/q, acc=0.500, corr=7/14, avg_tokens=362.4, p1_avg=100.0, p2_avg=256.4]Embedding mixture gen:  75%|███████▌  | 15/20 [01:27<00:33,  6.68s/q, acc=0.533, corr=8/15, avg_tokens=365.1, p1_avg=100.0, p2_avg=259.1]Embedding mixture gen:  80%|████████  | 16/20 [01:30<00:21,  5.49s/q, acc=0.533, corr=8/15, avg_tokens=365.1, p1_avg=100.0, p2_avg=259.1]Embedding mixture gen:  80%|████████  | 16/20 [01:30<00:21,  5.49s/q, acc=0.562, corr=9/16, avg_tokens=353.1, p1_avg=100.0, p2_avg=247.1]Embedding mixture gen:  85%|████████▌ | 17/20 [01:35<00:16,  5.50s/q, acc=0.562, corr=9/16, avg_tokens=353.1, p1_avg=100.0, p2_avg=247.1]Embedding mixture gen:  85%|████████▌ | 17/20 [01:35<00:16,  5.50s/q, acc=0.529, corr=9/17, avg_tokens=352.8, p1_avg=100.0, p2_avg=246.8]Embedding mixture gen:  90%|█████████ | 18/20 [01:39<00:09,  4.90s/q, acc=0.529, corr=9/17, avg_tokens=352.8, p1_avg=100.0, p2_avg=246.8]Embedding mixture gen:  90%|█████████ | 18/20 [01:39<00:09,  4.90s/q, acc=0.556, corr=10/18, avg_tokens=345.4, p1_avg=100.0, p2_avg=239.4]Embedding mixture gen:  95%|█████████▌| 19/20 [01:42<00:04,  4.32s/q, acc=0.556, corr=10/18, avg_tokens=345.4, p1_avg=100.0, p2_avg=239.4]Embedding mixture gen:  95%|█████████▌| 19/20 [01:42<00:04,  4.32s/q, acc=0.579, corr=11/19, avg_tokens=337.1, p1_avg=100.0, p2_avg=231.1]Embedding mixture gen: 100%|██████████| 20/20 [01:51<00:00,  5.91s/q, acc=0.579, corr=11/19, avg_tokens=337.1, p1_avg=100.0, p2_avg=231.1]Embedding mixture gen: 100%|██████████| 20/20 [01:51<00:00,  5.91s/q, acc=0.600, corr=12/20, avg_tokens=350.6, p1_avg=100.0, p2_avg=244.6]Embedding mixture gen: 100%|██████████| 20/20 [01:51<00:00,  5.59s/q, acc=0.600, corr=12/20, avg_tokens=350.6, p1_avg=100.0, p2_avg=244.6]
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...
Phase 1: Embedding mixture generation for 100 rounds...
Phase 2: Standard generation for 500 rounds...


==================== Summary ====================
Embedding mixture gen: 12/20  (Pass@1 = 0.600)
T_e: 100, k: 8, T_total: 600, num_examples: 20, temperature: 0.6


==================== Token Length Analysis ====================

Embedding Mixture Generation:
  Total average tokens: 350.6
  Total median tokens: 317.5
  Total std deviation: 142.9
  Total min tokens: 172
  Total max tokens: 606

  Phase 1 (Embedding Mixture):
    Average tokens: 100.0
    Average rounds completed: 100.0 / 100 requested
    Min tokens: 100
    Max tokens: 100

  Phase 2 (Standard Generation):
    Average tokens: 244.6
    Min tokens: 66
    Max tokens: 500

  Transition tokens:
    Average tokens: 6.0

  Token Efficiency Comparison:
    Mixture approach uses 350.6 tokens on average


==================== Saving Data ====================
Detailed comparison data saved to 'generation_comparison/without_think_in_phase_2/600_20_0.6/generation_comparison_T_e_100_k_8.json'
Raw comparison data saved to 'generation_comparison/thinking_parallely/600_20_0.6/generation_comparison_T_e_100_k_8.pkl'
[Fri Jun 13 01:35:46 AM UTC 2025] Finished task 3
